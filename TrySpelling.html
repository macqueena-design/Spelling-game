<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Spelling Game</title>
    <link rel="apple-touch-icon" href="Icon_rabbit.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <style>
    body { 
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; 
        text-align: center; 
        background-color: #F0F4FF; 
        margin: 0; 
        padding: 10px; /* ç¸®å°é‚Šè· */
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        justify-content: space-around; /* è®“å…§å®¹å‡å‹»åˆ†ä½ˆ */
        height: 100vh; 
        overflow: hidden; 
        touch-action: manipulation;
    }

    #image-display { 
        font-size: 20vh; /* ä½¿ç”¨è¢å¹•é«˜åº¦å–®ä½ï¼Œç¢ºä¿åœ¨æ‰‹æ©Ÿä¸Šä¸æœƒå¤ªå¤§ */
        margin: 10px 0; 
    }

    #word-display { 
        font-size: 10vw; /* ä½¿ç”¨è¢å¹•å¯¬åº¦å–®ä½ï¼Œå­—é«”éš¨å¯¬åº¦ç¸®æ”¾ */
        letter-spacing: 5px; 
        color: #333; 
        margin-bottom: 20px; 
        text-transform: uppercase;
        word-wrap: break-word; /* é˜²æ­¢é•·å–®å­—è¶…å‡ºè¢å¹• */
        max-width: 95vw;
    }

    .underline { 
        border-bottom: 4px solid #FF6B6B; 
        display: inline-block; 
        width: 1.2em; /* éš¨å­—é«”å¤§å°ç¸®æ”¾å¯¬åº¦ */
        height: 1.1em; 
        margin: 0 2px;
        background-color: rgba(255,255,255,0.5);
        border-radius: 5px;
    }

    .options { 
        display: flex; 
        gap: 15px; 
        justify-content: center;
        flex-wrap: wrap; /* å¦‚æœæŒ‰éˆ•å¤ªå¤šï¼Œè‡ªå‹•æ›è¡Œ */
        width: 100%;
        max-width: 400px;
    }

    .btn { 
        width: 70px; /* ç¸®å°æŒ‰éˆ•ä»¥é©æ‡‰æ‰‹æ©Ÿå¯¬åº¦ */
        height: 70px; 
        font-size: 30px; 
        border: none; 
        border-radius: 15px;
        background: #4ECDC4; 
        color: white; 
        box-shadow: 0 5px #45b7af; 
        cursor: pointer;
        -webkit-tap-highlight-color: transparent; /* ç§»é™¤æ‰‹æ©Ÿé»æ“Šé™°å½± */
    }

    /* é‡å° iPad ç­‰å¤§è¢å¹•çš„å¾®èª¿ */
    @media (min-width: 768px) {
        #image-display { font-size: 150px; }
        #word-display { font-size: 60px; }
        .btn { width: 100px; height: 100px; font-size: 45px; }
    }
</style>
</head>
<body>

    <div id="image-display" onclick="speakWord()">ğŸ</div>
    <div id="word-display"></div>
    <div class="options" id="options-container"></div>

    <script>
        const data = [
            { word: 'APPLE', emoji: 'ğŸ', missingIdx: 0 },
            { word: 'CAT', emoji: 'ğŸ±', missingIdx: 0 },
            { word: 'DOG', emoji: 'ğŸ¶', missingIdx: 0 },
            { word: 'FISH', emoji: 'ğŸŸ', missingIdx: 0 },
	   { word: 'PIZZA', emoji: 'ğŸ•', missingIdx: 0 },
	   { word: 'BANANA', emoji: 'ğŸŒ', missingIdx: 0 },
	   { word: 'TOMATO', emoji: 'ğŸ…', missingIdx: 0 },
	   { word: 'BOOK', emoji: 'ğŸ“”', missingIdx: 0 },
	   { word: 'TREE', emoji: 'ğŸŒ³', missingIdx: 0 },
	   { word: 'PIG', emoji: 'ğŸ·', missingIdx: 0 },
	   { word: 'DOOR', emoji: 'ğŸšª', missingIdx: 0 },
	   { word: 'SUN', emoji: 'â˜€ï¸', missingIdx: 0 },
	   { word: 'EAR', emoji: 'ğŸ‘‚', missingIdx: 0 },
	   { word: 'EGG', emoji: 'ğŸ¥š', missingIdx: 0 },
	   { word: 'CORN', emoji: 'ğŸŒ½', missingIdx: 0 },
	   { word: 'GRAPE', emoji: 'ğŸ‡', missingIdx: 0 },
	   { word: 'PEAR', emoji: 'ğŸ', missingIdx: 0 },
	   { word: 'KIWI', emoji: 'ğŸ¥', missingIdx: 0 },
	   { word: 'ORANGE', emoji: 'ğŸŠ', missingIdx: 0 },
	   { word: 'HAND', emoji: 'ğŸ–', missingIdx: 0 },
	   { word: 'EYE', emoji: 'ğŸ‘', missingIdx: 0 },
	   { word: 'BEE', emoji: 'ğŸ', missingIdx: 0 },
	   { word: 'MOON', emoji: 'ğŸŒ™', missingIdx: 0 },
            { word: 'BALL', emoji: 'âš½', missingIdx: 0 },
            { word: 'CAR', emoji: 'ğŸš—', missingIdx: 0 },
            { word: 'STAR', emoji: 'â­', missingIdx: 0 },
            { word: 'CAKE', emoji: 'ğŸ‚', missingIdx: 0 },
            { word: 'FIRE', emoji: 'ğŸ”¥', missingIdx: 0 }
        ];

        let currentItem;

        function speakWord() {
            const msg = new SpeechSynthesisUtterance(currentItem.word);
            msg.lang = 'en-US';
            window.speechSynthesis.speak(msg);
        }

        function initGame() {
            currentItem = data[Math.floor(Math.random() * data.length)];
            const display = document.getElementById('word-display');
            const options = document.getElementById('options-container');
            
            document.getElementById('image-display').innerText = currentItem.emoji;
            speakWord();

            // é¡¯ç¤ºå–®å­—ï¼ŒæŒ–ç©ºä¸€å€‹å­—æ¯
            let wordHTML = "";
            for (let i = 0; i < currentItem.word.length; i++) {
                if (i === currentItem.missingIdx) {
                    wordHTML += `<span class="underline"> </span>`;
                } else {
                    wordHTML += currentItem.word[i];
                }
            }
            display.innerHTML = wordHTML;

            // æº–å‚™é¸é …
            const correctLetter = currentItem.word[currentItem.missingIdx];
            let choices = [correctLetter];
            while (choices.length < 3) {
                let randomLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                if (!choices.includes(randomLetter)) choices.push(randomLetter);
            }
            choices.sort(() => Math.random() - 0.5);

            options.innerHTML = "";
            choices.forEach(letter => {
                const btn = document.createElement('button');
                btn.className = 'btn';
                btn.innerText = letter;
                btn.onclick = () => check(letter, btn);
                options.appendChild(btn);
            });
        }




function check(letter, btn) {
    const correctLetter = currentItem.word[currentItem.missingIdx];
    
    if (letter === correctLetter) {
        // --- ã€ç­”å°äº†ã€‘ ---
        
        // 1. è®“æŒ‰éˆ•è®Šé»ƒè‰²ä¸¦é¡¯ç¤ºå®Œæ•´å–®å­—
        btn.classList.add('correct');
        document.getElementById('word-display').innerText = currentItem.word;

        // 2. é–å®šæ‰€æœ‰æŒ‰éˆ•ï¼Œé˜²æ­¢åœ¨å…©ç§’å…§é‡è¤‡é»æ“Š
        const btns = document.querySelectorAll('.btn');
        btns.forEach(b => b.disabled = true);

        // 3. é‡é»ï¼šæŠŠåŸæœ¬é¡¯ç¤ºåœ–ç‰‡çš„åœ°æ–¹æ›æˆã€ŒğŸ‘ã€
        // ä½ ä¹Ÿå¯ä»¥æ›æˆå…¶ä»– Good çš„åœ–æ¡ˆï¼Œä¾‹å¦‚ ğŸŒŸ æˆ– ğŸ‘
        document.getElementById('image-display').innerText = "ğŸ‘"; 
        
        // 4. è¨­å®šå…©ç§’å¾Œ (2000æ¯«ç§’) æ‰åŸ·è¡Œ initGame æ›é¡Œ
        setTimeout(() => {
            initGame();
        }, 2000);

    } else {
        // --- ã€ç­”éŒ¯äº†ã€‘ ---
        // 1. æŒ‰éˆ•è®Šç´…è‰²
        btn.style.background = '#FF6B6B'; 
        
        // 2. æç¤ºè¨Šæ¯ï¼ˆé¸å¡«ï¼Œä¹Ÿå¯ä»¥ä¸åŠ ï¼‰
        // document.getElementById('image-display').innerText = "â“"; 

        // 3. 2ç§’å¾Œç´…è‰²æ¶ˆå¤±ï¼Œæ¢å¾©åŸæœ¬çš„é¡è‰²ï¼ˆ#4ECDC4ï¼‰
        // æ³¨æ„ï¼šé€™è£¡çš„æ™‚é–“è¦è·Ÿå¦³æƒ³è¦çš„ã€ŒéŒ¯èª¤åœç•™æ™‚é–“ã€ä¸€è‡´
        setTimeout(() => {
            btn.style.background = '#4ECDC4';
        }, 2000); 
    }
}











        initGame();
    </script>
</body>
</html>